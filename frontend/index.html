<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DATANA - Ph√¢n t√≠ch d·ªØ li·ªáu th√¥ng minh</title>
    <link rel="stylesheet" href="css/main.css" />
    <style>
        /* CSS ri√™ng cho trang ch·ªß */
        .hero { padding: 80px 0; text-align: center; }
        .hero h1 { font-size: 3.5rem; line-height: 1.2; margin-bottom: 1.5rem; color: var(--text-main); }
        .hero p { font-size: 1.2rem; max-width: 600px; margin: 0 auto 2.5rem; color: var(--text-muted); }
        
        /* Hi·ªáu ·ª©ng k√≠nh m·ªù cho Demo Box */
        .placeholder-visual {
            width: 100%; max-width: 900px; height: 400px; margin: 40px auto;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            display: flex; align-items: center; justify-content: center;
            color: var(--text-muted); position: relative;
        }

        /* Style cho n√∫t Auth tr√™n Header */
        .auth-btn-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-left: 20px;
        }
        .user-greeting {
            font-weight: 600;
            color: var(--primary);
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <header class="site-header">
        <div class="container">
            <!-- LOGO M·ªöI ·ªû ƒê√ÇY -->
            <a href="index.html" class="brand" style="text-decoration: none;">
                <img src="images/logo.jpg" alt="DATANA Logo" class="logo-image">
                <span>DATANA</span>
</a>
            
            <nav>
                <!-- Menu ch√≠nh -->
                <ul>
                    <li><a href="index.html" class="nav-link active" style="color: var(--text-main);">Trang ch·ªß</a></li>
                    <li><a href="pages/upload.html" class="nav-link">T·∫£i l√™n</a></li>
                    <li><a href="pages/dashboard.html" class="nav-link">B√°o c√°o</a></li>
                    <li><a href="pages/chat.html" class="nav-link">Tr·ª£ l√Ω AI</a></li>
                    <li><a href="pages/about.html" class="nav-link">Gi·ªõi thi·ªáu</a></li>
                </ul>

                <!-- Khu v·ª±c ch·ª©a n√∫t ƒêƒÉng nh·∫≠p/ƒêƒÉng k√Ω -->
                <div id="auth-buttons" class="auth-btn-group">
                    <!-- Loading... -->
                </div>
            </nav>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main>
        <section class="hero">
            <div class="container">
                <h1>Ph√¢n t√≠ch d·ªØ li·ªáu t·ª± ƒë·ªông<br>trong v√†i gi√¢y</h1>
                <p>Bi·∫øn d·ªØ li·ªáu th√¥ th√†nh bi·ªÉu ƒë·ªì tr·ª±c quan v√† chi·∫øn l∆∞·ª£c kinh doanh th√¥ng minh. Kh√¥ng c·∫ßn c√†i ƒë·∫∑t ph·ª©c t·∫°p.</p>
                
                <!-- N√∫t Upload ch√≠nh -->
                <a href="pages/upload.html" class="btn-primary" style="padding: 14px 32px; font-size: 1.1rem; text-decoration: none;">
                    üöÄ Upload d·ªØ li·ªáu Ngay
                </a>

                <!-- Demo Box -->
                <div class="demo-wrapper">
                    <div class="placeholder-visual">
                        <div style="text-align: center; opacity: 0.6;">
                            <div style="font-size: 4rem; margin-bottom: 10px;">üìä</div>
                            <h3 style="color: #fff; margin:0;">Demo Dashboard Preview</h3>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- SCRIPT QU·∫¢N L√ù ƒêƒÇNG NH·∫¨P -->
    <script>
        async function checkLogin() {
            const authContainer = document.getElementById('auth-buttons');
            
            try {
                const res = await fetch('/api/user_info');
                const data = await res.json();
                
                if (data.logged_in) {
                    authContainer.innerHTML = `
                        <span class="user-greeting">Hi, ${data.username}</span>
                        <a href="#" onclick="logout()" class="nav-link" style="color: #ef4444; font-size: 0.9rem;">ƒêƒÉng xu·∫•t</a>
                    `;
                } else {
                    authContainer.innerHTML = `
                        <a href="pages/login.html" class="nav-link">ƒêƒÉng nh·∫≠p</a>
                        <a href="pages/register.html" class="btn-primary" style="padding: 8px 20px; font-size: 0.9rem; text-decoration: none;">ƒêƒÉng k√Ω</a>
                    `;
                }
            } catch(e) { 
                console.error("L·ªói auth:", e);
                authContainer.innerHTML = `<a href="pages/login.html" class="nav-link">ƒêƒÉng nh·∫≠p</a>`;
            }
        }

        async function logout() {
            if(confirm("B·∫°n c√≥ ch·∫Øc mu·ªën ƒëƒÉng xu·∫•t?")) {
                await fetch('/api/logout');
                localStorage.removeItem('datana_user');
                window.location.reload();
            }
        }
        checkLogin();
    </script>
</body>
</html>